\doxysection{/home/mbakmaz/bytelab2024/final\+\_\+task/mashina/components/temp\+\_\+sensor\+\_\+sht31/temp\+\_\+sensor\+\_\+sht31.c File Reference}
\hypertarget{temp__sensor__sht31_8c}{}\label{temp__sensor__sht31_8c}\index{/home/mbakmaz/bytelab2024/final\_task/mashina/components/temp\_sensor\_sht31/temp\_sensor\_sht31.c@{/home/mbakmaz/bytelab2024/final\_task/mashina/components/temp\_sensor\_sht31/temp\_sensor\_sht31.c}}


Driver for the SHT31 temperature and humidity sensor using I2C protocol.  


{\ttfamily \#include "{}temp\+\_\+sensor\+\_\+sht31.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+system.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}driver/i2c.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_a7c3b07ba54b5f53c83f08b116b9cb310}{I2\+C\+\_\+\+SCL\+\_\+\+IO}}~21
\begin{DoxyCompactList}\small\item\em I2C SCL pin number. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_aec101441d229a1ced198dde5e9050188}{I2\+C\+\_\+\+SDA\+\_\+\+IO}}~22
\begin{DoxyCompactList}\small\item\em I2C SDA pin number. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_ad4a5ae6760ae60ffc730f60541657628}{I2\+C\+\_\+\+NUM}}~I2\+C\+\_\+\+NUM\+\_\+0
\begin{DoxyCompactList}\small\item\em I2C port number. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_abc854dd1326a4a9cdd32dba6c46a9ae9}{I2\+C\+\_\+\+TX\+\_\+\+BUF\+\_\+\+DISABLE}}~0
\begin{DoxyCompactList}\small\item\em I2C TX buffer disable. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_ab075fa0c3d9914ac034132ba1c5adc92}{I2\+C\+\_\+\+RX\+\_\+\+BUF\+\_\+\+DISABLE}}~0
\begin{DoxyCompactList}\small\item\em I2C RX buffer disable. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_a0d8bea689bb240eefaa35ca71cc1ed9f}{I2\+C\+\_\+\+FREQ\+\_\+\+HZ}}~100000
\begin{DoxyCompactList}\small\item\em I2C clock frequency. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_af66bf78c8247bd1bfcc6c4d3b18c1c09}{SHT31\+\_\+\+SENSOR\+\_\+\+ADDR}}~0x44
\begin{DoxyCompactList}\small\item\em SHT31 sensor I2C address. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_a48cbb3432fb152f607d90870f0f6877d}{SHT31\+\_\+\+MEASURE\+\_\+\+HIGH}}~0x2130
\begin{DoxyCompactList}\small\item\em Command for high precision measurement. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{temp__sensor__sht31_8c_a1848515160483d475c4167bc12744509}{SHT31\+\_\+\+READ}}~0x\+E000
\begin{DoxyCompactList}\small\item\em Command to read measurement results. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{temp__sensor__sht31_8c_af58bdcbba04b8d295cfd879adcb62650}{temp\+\_\+sensor\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize the SHT31 sensor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{temp__sensor__sht31_8c_a004315d9d82f6669ead6689efe63897e}{temp\+\_\+sensor\+\_\+read}} (float \texorpdfstring{$\ast$}{*}temperature, float \texorpdfstring{$\ast$}{*}humidity)
\begin{DoxyCompactList}\small\item\em Read temperature and humidity from SHT31 sensor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Driver for the SHT31 temperature and humidity sensor using I2C protocol. 

COPYRIGHT NOTICE\+: (c) 2024 Byte Lab Grupa d.\+o.\+o. All rights reserved. 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{temp__sensor__sht31_8c_a0d8bea689bb240eefaa35ca71cc1ed9f}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_FREQ\_HZ@{I2C\_FREQ\_HZ}}
\index{I2C\_FREQ\_HZ@{I2C\_FREQ\_HZ}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_FREQ\_HZ}{I2C\_FREQ\_HZ}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_a0d8bea689bb240eefaa35ca71cc1ed9f} 
\#define I2\+C\+\_\+\+FREQ\+\_\+\+HZ~100000}



I2C clock frequency. 

\Hypertarget{temp__sensor__sht31_8c_ad4a5ae6760ae60ffc730f60541657628}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_NUM@{I2C\_NUM}}
\index{I2C\_NUM@{I2C\_NUM}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_NUM}{I2C\_NUM}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_ad4a5ae6760ae60ffc730f60541657628} 
\#define I2\+C\+\_\+\+NUM~I2\+C\+\_\+\+NUM\+\_\+0}



I2C port number. 

\Hypertarget{temp__sensor__sht31_8c_ab075fa0c3d9914ac034132ba1c5adc92}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_RX\_BUF\_DISABLE@{I2C\_RX\_BUF\_DISABLE}}
\index{I2C\_RX\_BUF\_DISABLE@{I2C\_RX\_BUF\_DISABLE}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_RX\_BUF\_DISABLE}{I2C\_RX\_BUF\_DISABLE}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_ab075fa0c3d9914ac034132ba1c5adc92} 
\#define I2\+C\+\_\+\+RX\+\_\+\+BUF\+\_\+\+DISABLE~0}



I2C RX buffer disable. 

\Hypertarget{temp__sensor__sht31_8c_a7c3b07ba54b5f53c83f08b116b9cb310}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_SCL\_IO@{I2C\_SCL\_IO}}
\index{I2C\_SCL\_IO@{I2C\_SCL\_IO}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_SCL\_IO}{I2C\_SCL\_IO}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_a7c3b07ba54b5f53c83f08b116b9cb310} 
\#define I2\+C\+\_\+\+SCL\+\_\+\+IO~21}



I2C SCL pin number. 

\Hypertarget{temp__sensor__sht31_8c_aec101441d229a1ced198dde5e9050188}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_SDA\_IO@{I2C\_SDA\_IO}}
\index{I2C\_SDA\_IO@{I2C\_SDA\_IO}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_SDA\_IO}{I2C\_SDA\_IO}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_aec101441d229a1ced198dde5e9050188} 
\#define I2\+C\+\_\+\+SDA\+\_\+\+IO~22}



I2C SDA pin number. 

\Hypertarget{temp__sensor__sht31_8c_abc854dd1326a4a9cdd32dba6c46a9ae9}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!I2C\_TX\_BUF\_DISABLE@{I2C\_TX\_BUF\_DISABLE}}
\index{I2C\_TX\_BUF\_DISABLE@{I2C\_TX\_BUF\_DISABLE}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{I2C\_TX\_BUF\_DISABLE}{I2C\_TX\_BUF\_DISABLE}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_abc854dd1326a4a9cdd32dba6c46a9ae9} 
\#define I2\+C\+\_\+\+TX\+\_\+\+BUF\+\_\+\+DISABLE~0}



I2C TX buffer disable. 

\Hypertarget{temp__sensor__sht31_8c_a48cbb3432fb152f607d90870f0f6877d}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!SHT31\_MEASURE\_HIGH@{SHT31\_MEASURE\_HIGH}}
\index{SHT31\_MEASURE\_HIGH@{SHT31\_MEASURE\_HIGH}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{SHT31\_MEASURE\_HIGH}{SHT31\_MEASURE\_HIGH}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_a48cbb3432fb152f607d90870f0f6877d} 
\#define SHT31\+\_\+\+MEASURE\+\_\+\+HIGH~0x2130}



Command for high precision measurement. 

\Hypertarget{temp__sensor__sht31_8c_a1848515160483d475c4167bc12744509}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!SHT31\_READ@{SHT31\_READ}}
\index{SHT31\_READ@{SHT31\_READ}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{SHT31\_READ}{SHT31\_READ}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_a1848515160483d475c4167bc12744509} 
\#define SHT31\+\_\+\+READ~0x\+E000}



Command to read measurement results. 

\Hypertarget{temp__sensor__sht31_8c_af66bf78c8247bd1bfcc6c4d3b18c1c09}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!SHT31\_SENSOR\_ADDR@{SHT31\_SENSOR\_ADDR}}
\index{SHT31\_SENSOR\_ADDR@{SHT31\_SENSOR\_ADDR}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{SHT31\_SENSOR\_ADDR}{SHT31\_SENSOR\_ADDR}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_af66bf78c8247bd1bfcc6c4d3b18c1c09} 
\#define SHT31\+\_\+\+SENSOR\+\_\+\+ADDR~0x44}



SHT31 sensor I2C address. 



\doxysubsection{Function Documentation}
\Hypertarget{temp__sensor__sht31_8c_af58bdcbba04b8d295cfd879adcb62650}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!temp\_sensor\_init@{temp\_sensor\_init}}
\index{temp\_sensor\_init@{temp\_sensor\_init}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{temp\_sensor\_init()}{temp\_sensor\_init()}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_af58bdcbba04b8d295cfd879adcb62650} 
esp\+\_\+err\+\_\+t temp\+\_\+sensor\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Initialize the SHT31 sensor. 

Sends the high precision measurement command to the SHT31 sensor.

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK\+: Success
\item Others\+: Failure 
\end{DoxyItemize}
\end{DoxyReturn}
\Hypertarget{temp__sensor__sht31_8c_a004315d9d82f6669ead6689efe63897e}\index{temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}!temp\_sensor\_read@{temp\_sensor\_read}}
\index{temp\_sensor\_read@{temp\_sensor\_read}!temp\_sensor\_sht31.c@{temp\_sensor\_sht31.c}}
\doxysubsubsection{\texorpdfstring{temp\_sensor\_read()}{temp\_sensor\_read()}}
{\footnotesize\ttfamily \label{temp__sensor__sht31_8c_a004315d9d82f6669ead6689efe63897e} 
esp\+\_\+err\+\_\+t temp\+\_\+sensor\+\_\+read (\begin{DoxyParamCaption}\item[{float \texorpdfstring{$\ast$}{*}}]{temperature}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{humidity}{}\end{DoxyParamCaption})}



Read temperature and humidity from SHT31 sensor. 

Reads the measurement data from the SHT31 sensor and converts the raw values into temperature (Â°C) and humidity (\%).


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em temperature} & Pointer to store the temperature value \\
\hline
\mbox{\texttt{ out}}  & {\em humidity} & Pointer to store the humidity value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK\+: Success
\item Others\+: Failure 
\end{DoxyItemize}
\end{DoxyReturn}
